#!/bin/sh

# copy this file to .git/hooks (i.e., overwrite the file .git/hooks/pre-commit)
# to perform source checks before commits

# this hack allows us to determine the GenomeTools directory automatically
# (GIT_INDEX_FILE is the only environment variable set git)
GTDIR=`echo $GIT_INDEX_FILE | sed 's%/\.git/.*$%%'`

$GTDIR/scripts/src_check $GTDIR/src/*.[ch]            \
                         $GTDIR/src/libgtcore/*.[ch]  \
                         $GTDIR/src/libgtext/*.[ch]   \
                         $GTDIR/src/libgtlua/*.[ch]   \
                         $GTDIR/src/libgtmatch/*.[ch] \
                         $GTDIR/src/libgtview/*.[ch]  \
                         $GTDIR/src/tools/*.[ch]
